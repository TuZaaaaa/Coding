# 串、数组和广义表
> 可以理解为 内容受限的线性表，严格来说，已不属于线性结构
## 串
> 串（String） 零个或多个任意**字符组成的有限序列**

- $S = "a_1, a_2, ..., a_n" n \geq 0$
    - 串名：S
    - 串值：$a_1, a_2, ...$
    - 串长：n
    - 空串：n = 0 用 $\emptyset$ 表示

### 几个术语
#### 子串
> 一个串中任意个连续字符组成的**子序列**（含空串）称为该串的子串
> **真子串**是指不包含自身的所有子串

例："abcde" 子串
    - "", "a", "ab", "abc", "abcd", "abcde" 等

#### 主串
> 包含子串的串相应地称为**主串**

#### 字符位置
> 字符**在序列中的序号**为该字符在串中的位置

#### 子串位置
> **子串第一个字符**在主串中的位置

#### 空格串
> 由一个或多个空格组成的串，**与空串不同**

#### 串相等
> 当且仅当两个串的长度相等并且各个对应位置上的字符都相同时，这两个串才是**相等**的
> **所有空串都是相等的**

### 案例引入
#### 病毒感染检测
> 研究者将人的 DNA 和病毒的 DNA 均表示成由一些字母组成的字符串序列
> 检测某种病毒 DNA 序列是否在患者的 DNA 序列中出现过，如果出现过，则此人感染力该病毒，否则 没有感染

例：假设病毒的 DNA 序列为 baa，患者 1 的 DNA 序列为 aaabbba，则感染，患者 2 的 DNA 序列为 babbba，则未感染

> 注意，人的 DNA 序列时线性的，而病毒的 DNA 序列是环状的

### 类型定义
ADT String {
    数据对象：$D = {a_i | a_i \in CharacterSet, i = 1, 2, ..., n, n \geq 0}$
    数据关系：$R_1 = {< a_{i-1}, a_i> | a_{i-1}, a_i \geq D, i = 1, 2, ..., n}$
    基本操作：
        - Strlength(&T, chars); // 串赋值
        - Strcompare(S, T); // 串比较
        - StrLength(S); // 求串长
        - Concat(&T, S1, S2); // 串连结
        - SubString(&Sub, S, pos, len); // 求子串
        - StrCopy(&T, S); // 串拷贝
        - StrEmpty(S); // 串判空
        - ClearString(&S); // 清空串
        - **Index(S, T, pos);** // 子串的位置
        - Replace(&S, T, V); // 串替换
        - StrInsert(&S, pos, T); // 子串插入
        - StrDelete(&S, pos, len); // 子串删除
        - DestoryString(&S); // 串销毁
} ADT String

### 串的顺序存储结构
```c
#define MAXLEN 255
typedef struct {
    char ch[MAXLEN + 1]; // 存储串的一维数组
    int length; // 串的当前长度
} SString
```

### 串的链式存储结构
- 优点：操作方便
- 缺点：存储密度较低
- 可将多个字符放在一个结点中，以克服其缺点

#### 块链结构
```c
#define CHUNKSIZE 80 // 块的大小可由用户定义
typedef struct Chunk {
    char ch[CHUNKSIZE];
    struct Chunk *next;
} Chunk;

typedef struct {
    Chunk *head, *tail; // 串的头指针和尾指针
    int curlen; // 串的当前长度
} LString;  // 字符串的块链结构
```

