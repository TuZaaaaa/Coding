# P2P

# 纯 P2P 架构
- 没有一直运行的服务器
- 任意端系统可以直接通信
- 利用 peer 的服务能力
- Peer 节点间歇上网，每次 IP 有可能变化

## 文件分发 C/S vs P2P
- 一台服务器分发文件（size: F）到 N 个 peer 所需时间
    - P2P
      - Peer 节点上下载能力是有限的资源
    - C/S
      - 服务器
        - 顺序传输
        - 1：$F/u_s$
        - N：$N * F/u_s$
      - 客户端
        - $d_{min}$：客户端最小的下载速率
        - $F/d_min$：带宽最小客户端下载时间
      - $D_{c-s} >= max(NF/u_s, F/d_{min})$ 

## P2P 文件分发管理 模式
- 非结构化 P2P
  - 集中化目录
  - 完全分布式
    - 泛洪查询
  - 混合体
    - 利用不匀称性
    - 组长与组员
  - 稀缺优先
- DHT(结构化) P2P
  - 环状
  - 树状

